<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<!-- libraries -->
<link rel="import" href="bower_components/polymer/polymer.html">
<link rel="import" href="bower_components/font-roboto/roboto.html"/>

<!-- paper elements -->
<link rel="import" href="bower_components/paper-item/paper-item.html">
<link rel="import" href="bower_components/paper-fab/paper-fab.html">

<!-- iron elements -->
<link rel="import" href="bower_components/iron-collapse/iron-collapse.html">
<link rel="import" href="bower_components/iron-icons/iron-icons.html">

<!--
An element providing a solution to no problem in particular.

Example:

    <bde-repository-item></bde-repository-item>

@group Seed Elements
@element bde-repository-item
@demo demo/index.html
@hero hero.svg
-->
<dom-module id="bde-repository-item">

    <template>
        <style>
            :host {
                display: block;
                box-sizing: border-box;
                font-family: 'Roboto Mono', 'Consolas', 'Menlo', monospace;
            }

            :host .item {
                background-color: #fff;
                margin: 2px;
                padding: 5px;
                border: 1px solid #999;
            }
            
            :host .item h4 {
                margin-left: 10px;
            }

            :host .collapse-content {
                margin: 2px;
                padding: 10px;
                background-color: #f3f3f3;
                border: 1px solid #999;
            }

            :host .addItemBtn {
                margin-right: 10px;
                background-color: #00b99e;
            }

        </style>

        <paper-item class="item" flex focused="{{focus}}">
            <h4>[[title]]</h4>
            <span class="flex"></span>
            <paper-fab class="addItemBtn" mini icon="add" title="Add component" on-tap="fireAddEvent"></paper-fab>
            <!-- TODO (ene): seperate paper-fab from focus of paper-item -->
        </paper-item>

        <iron-collapse opened="{{open}}">
            <div class="collapse-content">
                <h5>Description:</h5>
                <p>[[description]]</p>
            </div>
        </iron-collapse>

    </template>

</dom-module>

<script>

    Polymer({

        is : 'bde-repository-item',

        properties : {
            title : {
                type: String,
                value : "bde-repository-item"
            },
            // TODO (ene): if there is no decription available set "no description for this component"
            description : {
                type: String,
                value : "This is a description property of the <bde-repository-item> custom element."
            },
            // TODO (ene): check if there are data
            data : {
                type : Object,
                value : ""
            },
            focus : {
                type : Boolean,
                observer : '_focusChanged'
            },
            open : {
                type : Boolean,
                notify : true
            }
        },

        _focusChanged : function(newValue,oldValue){
            this.open = newValue
        },

        fireAddEvent : function(){
            this.fire('addBaseObject', {baseObject : this.data})
        }

    });

</script>
